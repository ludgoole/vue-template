import{A as U,B as q,C as M,r as p,k as w,D as S,b as j,E as m,j as R,G as h,H as l,F as A,I as E,u as f,J as x,K as d,L as b,M as C,N as z,O as J,P as B,x as W,Q as D,i as G,R as K,w as N,S as Q,U as F,V as X,W as Y,y as Z,X as ee}from"../vendor.5e9f7d32.js";import{T as te,a as oe,b as T,c as se,d as re,N as ne}from"../vant-vendor.48ec7026.js";const ae=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};ae();const ue=u=>{const s=U();s.use(q({persist:!0,storage:localStorage})),u.use(s)},ie="modulepreload",ce=function(u){return"https://www.zhixue.com/"+u},V={},y=function(s,o,a){return!o||o.length===0?s():Promise.all(o.map(e=>{if(e=ce(e),e in V)return;V[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");if(r.rel=t?"stylesheet":ie,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t)return new Promise((i,_)=>{r.addEventListener("load",i),r.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>s())},le={book:"\u667A\u56CA",poem:"\u9759\u591C\u8BD7",words:"\u5E8A\u524D\u660E\u6708\u5149 \u7591\u662F\u5730\u4E0A\u971C \u4E3E\u5934\u671B\u660E\u6708 \u4F4E\u5934\u601D\u6545\u4E61",images:[{id:0,name:"\u5E8A",path:"https://img2.baidu.com/it/u=3428201346,291982590&fm=253&fmt=auto&app=138&f=JPEG?w=755&h=500",piles:[{id:0,name:"\u6795\u5934",keyword:"\u592A\u8BF8\u6C49\u5B54\u5B8B",hooks:[{id:0,name:"\u592A",tags:["\u6625\u79CB \u76F4\u94A9\u9493\u9C7C \u4E0D\u542C\u8BDD"]}]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]},{id:0,name:"\u6795\u5934",keyword:"",hooks:[]}]}]},k=[le],I=M("header-store",()=>({title:p("\u9996\u9875")}),{persistedState:{persist:!0,storage:sessionStorage}}),pe={class:"Home"},_e={"px-2":"",flex:"","flex-wrap":""},me=["onClick"],de={class:"word","w-full":"","h-full":"","flex-center":"","text-3xl":""},H=w({__name:"index",setup(u){const{title:s}=S(I()),o=x(),a=p(0),e=n=>n.replaceAll(" ",""),t=(n=k[0].images[0])=>{o.push({path:"/palace",query:{image:JSON.stringify(n)}})};return j(()=>{s.value=k[0].poem}),(n,r)=>{const i=te,_=oe;return l(),m("div",pe,[R(_,{active:a.value,"onUpdate:active":r[0]||(r[0]=c=>a.value=c)},{default:h(()=>[(l(!0),m(A,null,E(f(k),c=>(l(),d(i,{key:c.book,title:c.book},{default:h(()=>[b("ul",_e,[(l(!0),m(A,null,E(e(c.words),(g,v)=>(l(),m("li",{key:v,class:"basis-1\\/5 aspect-square p-2",onClick:$=>t(c.images[v])},[b("p",de,C(g),1)],8,me))),128))])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])])}}});const P={},fe=(u,s)=>{const o=u.__vccOpts||u;for(const[a,e]of s)o[a]=e;return o};typeof P=="function"&&P(H);const he=fe(H,[["__scopeId","data-v-71caec8c"]]),ge=()=>y(()=>import("../login.b08872ce.js"),["login.b08872ce.js","vant-vendor.48ec7026.js","assets/vant-vendor.d75ea77c.css","vendor.5e9f7d32.js","assets/vendor.5c167a30.css"]),ve=()=>y(()=>import("../palace.02faa9a6.js"),["palace.02faa9a6.js","vant-vendor.48ec7026.js","assets/vant-vendor.d75ea77c.css","vendor.5e9f7d32.js","assets/vendor.5c167a30.css"]),we=()=>y(()=>import("../search.277b8d42.js"),["search.277b8d42.js","vant-vendor.48ec7026.js","assets/vant-vendor.d75ea77c.css","vendor.5e9f7d32.js","assets/vendor.5c167a30.css"]),ye=()=>y(()=>import("../all.cabc8b18.js"),["all.cabc8b18.js","vendor.5e9f7d32.js","assets/vendor.5c167a30.css","vant-vendor.48ec7026.js","assets/vant-vendor.d75ea77c.css"]),ke=[{name:"index",path:"/",component:he,props:!0,meta:{title:"\u9996\u9875",roles:["ADMIN"]}},{name:"login",path:"/login",component:ge,props:!0,meta:{title:"\u767B\u5F55",hideHeader:!0,hideFooter:!0}},{name:"palace",path:"/palace",component:ve,props:!0,meta:{title:"\u5BAB\u6BBF",roles:["ADMIN"],leftArrow:!0}},{name:"search",path:"/search",component:we,props:!0,meta:{title:"\u67E5\u8BE2"}},{name:"all",path:"/:all(.*)*",component:ye,props:!0,meta:{title:"Page Not Found",leftArrow:!0,rightText:"\u5237\u65B0"}}],O=z({history:J(),routes:ke});O.beforeEach(async(u,s,o)=>{var c;const a=await B.getItem("Authorization"),e=await B.getItem("userInfo")||{},t=(c=u.meta)==null?void 0:c.roles,n=u.path==="/login",r=!!a,i=!!t,_=t&&t.includes(e.role);!n&&!r?(T({message:"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55"}),o("/login")):!n&&r&&i&&!_?(T({message:"\u60A8\u6CA1\u6709\u6743\u5229\u8BBF\u95EE\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5347\u7EA7"}),o("/404")):o()});const L=[{name:"\u9996\u9875",path:"/",icon:"home-o"},{name:"\u67E5\u8BE2",path:"/search",icon:"search"}],Ae=w({__name:"AppFooter",setup(u){const s=x(),o=p(0),a=e=>{s.push({path:L[e].path})};return(e,t)=>{const n=se,r=re;return l(),d(r,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i),class:"!static",onChange:a},{default:h(()=>[(l(!0),m(A,null,E(f(L),i=>(l(),d(n,{key:i.icon,icon:i.icon},{default:h(()=>[W(C(i.name),1)]),_:2},1032,["icon"]))),128))]),_:1},8,["modelValue"])}}}),Ee={"w-4em":"","rounded-full":"","border-base":"","border-pramiry":"","p-2":"","text-sm":"","scale-75":""},be=w({__name:"AppHeader",setup(u){const{title:s}=S(I()),o=x(),a=D(),e=G("emitter"),t=p(""),n=p(!1),r=p(""),i=p(!1);K({title:s}),N(()=>a.meta,c=>{t.value=c.toPath,s.value=c.title,n.value=c.leftArrow,r.value=c.rightText,i.value=c.isPlain},{immediate:!0});function _(){e.emit("on-click-right")}return(c,g)=>{const v=ne;return l(),d(v,{title:f(s),"left-arrow":n.value,"right-text":r.value,onClickRight:_,onClickLeft:g[0]||(g[0]=$=>t.value?f(o).push(t.value):f(o).go(-1))},Q({_:2},[i.value?{name:"right",fn:h(()=>[b("p",Ee,C(r.value),1)])}:void 0]),1032,["title","left-arrow","right-text"])}}}),xe={flex:"~ col","justify-between":"","w-100vw":"","h-100vh":""},Ce=w({__name:"App",setup(u){const s=D(),o=p(!0),a=p(!0);return N(()=>s.meta,e=>{o.value=!e.hideHeader,a.value=!e.hideFooter}),(e,t)=>{const n=be,r=X("RouterView"),i=Ae;return l(),m("div",xe,[o.value?(l(),d(n,{key:0})):F("",!0),R(r,{"flex-1":"","overflow-auto":"","text-center":""}),a.value?(l(),d(i,{key:1})):F("",!0)])}}}),Be=Y(),Fe=ee();Z(Ce).use(Be).use(O).use(ue).provide("emitter",Fe).mount("#app");export{P as b,I as u};
