<route lang="yaml">
meta:
  title: é¦–é¡µ
</route>

<script lang="ts" setup>
import moment from 'moment'
import { downloadFile } from '@/utils'
import { useCounterStore } from '@/stores/counter'
import { getMockData, getTestData } from '@/apis/test'
const { count } = toRefs(useCounterStore())
const file = ref()
const time = ref(moment().format('YYYY-MM-DD hh:mm:ss'))

// created
getTestData({ id: 1 }).then((data) => {
  console.log('ðŸš€ ~ file: index.vue ~ line 17 ~ getTestData ~ data', data)
  file.value = data
})

getMockData({ id: 1 }).then((data) => {
  console.log('ðŸš€ ~ file: index.vue ~ line 17 ~ getTestData ~ data', data)
})

setInterval(() => {
  time.value = moment().format('YYYY-MM-DD hh:mm:ss')
}, 1000)

// method
const download = () => downloadFile(file, 'text.json')
</script>

<template>
  <div class="Home" pt-4>
    <p>this is home page</p>
    <p mt-1>
      {{ time }}
    </p>
    <p mt-4>
      <ElButton @click="count++">
        count is: {{ count }}
      </ElButton>
      <ElButton @click="download">
        ä¸‹è½½
      </ElButton>
    </p>
  </div>
</template>
